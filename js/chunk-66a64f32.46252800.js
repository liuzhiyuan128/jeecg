(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-66a64f32","chunk-66a64f32","chunk-c2bcb1d0"],{2700:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-form-item",{attrs:{label:"位置经度",prop:"lng"}},[l("a-input",{staticClass:"input_number",staticStyle:{display:"none"},attrs:{type:"number"},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.model.lng,callback:function(t){e.$set(e.model,"lng",t)},expression:"model.lng"}})],1),l("el-form-item",{attrs:{label:"位置维度",prop:"lat"}},[l("a-input",{staticClass:"input_number",staticStyle:{display:"none"},attrs:{type:"number"},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.model.lat,callback:function(t){e.$set(e.model,"lat",t)},expression:"model.lat"}})],1),l("baidu-map",{staticClass:"bm-view",attrs:{ak:"QFgFQorrB84maOZh0pPGC8kUiP0mGIhx",center:e.center,zoom:e.zoom,"scroll-wheel-zoom":!0},on:{ready:e.createMap}},[l("bm-local-search",{staticStyle:{display:"none"},attrs:{keyword:e.model.address,"auto-viewport":!0}}),l("bm-marker-clusterer",[l("bm-marker",{attrs:{position:{lng:e.model.lng,lat:e.model.lat}}})],1)],1),l("a-input",{staticStyle:{"margin-left":"10px",width:"200px",position:"absolute",top:"35%",opacity:"0.9"},attrs:{placeholder:"搜索地点","prefix-icon":"el-icon-search"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1)},a=[],i=l("df2b"),n=l("78a9"),r=l("eae0"),s=l("911a"),p=l.n(s),m={components:{BaiduMap:i["a"],BmMarkerClusterer:n["a"],BmLocalSearch:r["a"]},data:function(){return{center:{lng:0,lat:0},centerTwo:{lng:113.252709,lat:33.77253},zoom:10,model:{lng:"",lat:"",address:""},lngAndLatArr:[],BMap:null,map:null}},methods:{getMapLocation:function(e){this.lngAndLatArr=e.split(","),this.centerTwo.lng=parseFloat(this.lngAndLatArr[0]),this.centerTwo.lat=parseFloat(this.lngAndLatArr[1]),this.createMap({Bmap:this.BMap,map:this.map})},getMapLocation2:function(){this.centerTwo.lng=113.252709,this.centerTwo.lat=33.77253,this.model.lng="0",this.model.lat="0"},createMap:function(e){var t=e.BMap,l=e.map;this.BMap=t,this.map=l,this.zoom=this.zoom,this.map2=l;var o=this;l.addEventListener("click",(function(e){var a=new t.Geocoder,i=new t.Point(e.point.lng,e.point.lat);a.getLocation(i,(function(e){var t=e.addressComponents,l=t.province+t.city+t.district+t.street+t.streetNumber;p.a.publish("getName",l)})),o.model.lng=e.point.lng,o.model.lat=e.point.lat,l.centerAndZoom(new t.Point(e.point.lng,e.point.lat),l.getZoom())})),this.center.lng=this.centerTwo.lng,this.center.lat=this.centerTwo.lat,o.model.lng=this.center.lng,o.model.lat=this.center.lat;var a=0,i=0;l.addEventListener("zoomstart",(function(e){a=l.getCenter().lng,i=l.getCenter().lat})),l.addEventListener("zoomend",(function(e){l.centerAndZoom(new t.Point(a,i),l.getZoom())}))}},computed:{lngAndLat:function(){return this.model.lng+","+this.model.lat}},watch:{lngAndLat:{immediate:!0,deep:!0,handler:function(e,t){p.a.publish("getlngAndLat",e)}}}},d=m,c=(l("972d"),l("2877")),u=Object(c["a"])(d,o,a,!1,null,"0fcb685c",null);t["default"]=u.exports},"82cc":function(e,t,l){"use strict";var o=l("a06e"),a=l.n(o);a.a},"911a":function(e,t,l){(function(e){(function(l,o){"use strict";var a={};l.PubSub?a=l.PubSub:(l.PubSub=a,o(a)),void 0!==e&&e.exports&&(t=e.exports=a),t.PubSub=a,e.exports=t=a})("object"===typeof window&&window||this,(function(e){"use strict";var t={},l=-1,o="*";function a(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function i(e){return function(){throw e}}function n(e,t,l){try{e(t,l)}catch(o){setTimeout(i(o),0)}}function r(e,t,l){e(t,l)}function s(e,l,o,a){var i,s=t[l],p=a?r:n;if(Object.prototype.hasOwnProperty.call(t,l))for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&p(s[i],e,o)}function p(e,t,l){return function(){var a=String(e),i=a.lastIndexOf(".");s(e,e,t,l);while(-1!==i)a=a.substr(0,i),i=a.lastIndexOf("."),s(e,a,t,l);s(e,o,t,l)}}function m(e){var l=String(e),o=Boolean(Object.prototype.hasOwnProperty.call(t,l)&&a(t[l]));return o}function d(e){var t=String(e),l=m(t)||m(o),a=t.lastIndexOf(".");while(!l&&-1!==a)t=t.substr(0,a),a=t.lastIndexOf("."),l=m(t);return l}function c(e,t,l,o){e="symbol"===typeof e?e.toString():e;var a=p(e,t,o),i=d(e);return!!i&&(!0===l?a():setTimeout(a,0),!0)}e.publish=function(t,l){return c(t,l,!1,e.immediateExceptions)},e.publishSync=function(t,l){return c(t,l,!0,e.immediateExceptions)},e.subscribe=function(e,o){if("function"!==typeof o)return!1;e="symbol"===typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var a="uid_"+String(++l);return t[e][a]=o,a},e.subscribeAll=function(t){return e.subscribe(o,t)},e.subscribeOnce=function(t,l){var o=e.subscribe(t,(function(){e.unsubscribe(o),l.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var l;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&0===l.indexOf(e)&&delete t[l]},e.countSubscriptions=function(e){var l,o,a=0;for(l in t)if(Object.prototype.hasOwnProperty.call(t,l)&&0===l.indexOf(e)){for(o in t[l])a++;break}return a},e.getSubscriptions=function(e){var l,o=[];for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&0===l.indexOf(e)&&o.push(l);return o},e.unsubscribe=function(l){var o,a,i,n=function(e){var l;for(l in t)if(Object.prototype.hasOwnProperty.call(t,l)&&0===l.indexOf(e))return!0;return!1},r="string"===typeof l&&(Object.prototype.hasOwnProperty.call(t,l)||n(l)),s=!r&&"string"===typeof l,p="function"===typeof l,m=!1;if(!r){for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(a=t[o],s&&a[l]){delete a[l],m=l;break}if(p)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&a[i]===l&&(delete a[i],m=!0)}return m}e.clearSubscriptions(l)}}))}).call(this,l("7ebd")(e))},"972d":function(e,t,l){"use strict";var o=l("f016"),a=l.n(o);a.a},a06e:function(e,t,l){},ea93:function(e,t,l){"use strict";l.r(t);var o=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("a-spin",{attrs:{spinning:e.confirmLoading}},[l("j-form-container",{attrs:{disabled:e.formDisabled}},[l("a-form-model",{ref:"form",attrs:{slot:"detail",model:e.model,rules:e.validatorRules},slot:"detail"},[l("a-row",[l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"设备名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentName"}},[l("a-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.model.equipmentName,callback:function(t){e.$set(e.model,"equipmentName",t)},expression:"model.equipmentName"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"所属单位",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"affiliatedAgent",required:"true"}},[l("a-select",{attrs:{placeholder:"请选择所属单位"},model:{value:e.model.affiliatedAgent,callback:function(t){e.$set(e.model,"affiliatedAgent",t)},expression:"model.affiliatedAgent"}},[l("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.companys,(function(t,o){return l("a-select-option",{key:o,attrs:{value:t.id}},[l("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.departName||t.id}},[e._v("\n                   "+e._s(t.departName||t.id)+"\n                ")])])}))],2)],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"所属系统",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"systemBelong"}},[l("j-dict-select-tag",{attrs:{type:"list",dictCode:"ufpp_sys_type,sys_name,id",placeholder:"请选择设备所属系统"},model:{value:e.model.systemBelong,callback:function(t){e.$set(e.model,"systemBelong",t)},expression:"model.systemBelong"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:null!=this.model.systemBelong,expression:"this.model.systemBelong != null"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"设备类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentType"}},[l("a-select",{attrs:{placeholder:"请选择设备类型"},model:{value:e.model.equipmentType,callback:function(t){e.$set(e.model,"equipmentType",t)},expression:"model.equipmentType"}},[l("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.equipmentTypes,(function(t,o){return l("a-select-option",{key:o,attrs:{value:t.id}},[l("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.typeName||t.id}},[e._v("\n                   "+e._s(t.typeName||t.id)+"\n                ")])])}))],2)],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:null!=this.model.equipmentType,expression:"this.model.equipmentType != null"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"设备型号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentModel"}},[l("a-select",{attrs:{placeholder:"请选择设备型号"},model:{value:e.model.equipmentModel,callback:function(t){e.$set(e.model,"equipmentModel",t)},expression:"model.equipmentModel"}},[l("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.equipmentModels,(function(t,o){return l("a-select-option",{key:o,attrs:{value:t.id}},[l("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.typeName||t.id}},[e._v("\n                   "+e._s(t.typeName||t.id)+"\n                ")])])}))],2)],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:null!=this.model.equipmentModel,expression:"this.model.equipmentModel != null"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"通讯类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"communicationType"}},[l("j-dict-select-tag",{attrs:{type:"list",dictCode:"communication_type",placeholder:"请选择通讯类型"},model:{value:e.model.communicationType,callback:function(t){e.$set(e.model,"communicationType",t)},expression:"model.communicationType"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:this.isRemotePowerOff,expression:"this.isRemotePowerOff"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"远程断电",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"isRemotePowerOff"}},[l("j-switch",{model:{value:e.model.isRemotePowerOff,callback:function(t){e.$set(e.model,"isRemotePowerOff",t)},expression:"model.isRemotePowerOff"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:3==this.model.communicationType,expression:"this.model.communicationType == 3"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"AEP模型",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"aepModel"}},[l("j-dict-select-tag",{attrs:{type:"list",dictCode:"specific_aep_model",placeholder:"请选择AEP模型"},model:{value:e.model.aepModel,callback:function(t){e.$set(e.model,"aepModel",t)},expression:"model.aepModel"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:this.affiliatedAgreement,expression:"this.affiliatedAgreement"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"所属协议",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"protocol"}},[l("j-dict-select-tag",{attrs:{type:"list",dictCode:"affiliated_agreement",placeholder:"请选择所属协议"},model:{value:e.model.protocol,callback:function(t){e.$set(e.model,"protocol",t)},expression:"model.protocol"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:1==this.model.protocol,expression:"this.model.protocol == 1"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"边缘服务",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"edgeService"}},[l("j-dict-select-tag",{attrs:{type:"list",placeholder:"请选择边缘服务"},model:{value:e.model.edgeService,callback:function(t){e.$set(e.model,"edgeService",t)},expression:"model.edgeService"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:this.parts,expression:"this.parts"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"部件映射地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"mappingAddress"}},[l("j-dict-select-tag",{attrs:{type:"list",placeholder:"请选择部件映射地址"},model:{value:e.model.mappingAddress,callback:function(t){e.$set(e.model,"mappingAddress",t)},expression:"model.mappingAddress"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"序列号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"serialNumber"}},[l("a-input",{attrs:{placeholder:"请输入序列号"},model:{value:e.model.serialNumber,callback:function(t){e.$set(e.model,"serialNumber",t)},expression:"model.serialNumber"}})],1)],1),l("a-col",{directives:[{name:"show",rawName:"v-show",value:0==this.model.protocol,expression:"this.model.protocol == 0"}],attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"验证码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"verificationCode"}},[l("a-input",{attrs:{placeholder:"请输入验证码"},model:{value:e.model.verificationCode,callback:function(t){e.$set(e.model,"verificationCode",t)},expression:"model.verificationCode"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"所属区域",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"region"}},[l("j-dict-select-tag",{attrs:{type:"list",dictCode:"ufpp_monitor_area,area_name,id",placeholder:"请选择所属区域"},model:{value:e.model.region,callback:function(t){e.$set(e.model,"region",t)},expression:"model.region"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"楼层",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"floor"}},[l("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入楼层"},model:{value:e.model.floor,callback:function(t){e.$set(e.model,"floor",t)},expression:"model.floor"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"所属厂商",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"manufacturer"}},[l("j-dict-select-tag",{attrs:{type:"list",dictCode:"belong_manufacturer",placeholder:"请选择所属厂商"},model:{value:e.model.manufacturer,callback:function(t){e.$set(e.model,"manufacturer",t)},expression:"model.manufacturer"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"图上位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"mapLocation"}},[l("Mapppp",{ref:"realForm",model:{value:e.model.mapLocation,callback:function(t){e.$set(e.model,"mapLocation",t)},expression:"model.mapLocation"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"详细位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"detailedLocation"}},[l("a-input",{attrs:{placeholder:"请输入详细位置"},model:{value:e.model.detailedLocation,callback:function(t){e.$set(e.model,"detailedLocation",t)},expression:"model.detailedLocation"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"联系人姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"name"}},[l("a-input",{attrs:{placeholder:"请输入联系人姓名"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"联系人电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"telephone"}},[l("a-input",{attrs:{placeholder:"请输入联系人电话"},model:{value:e.model.telephone,callback:function(t){e.$set(e.model,"telephone",t)},expression:"model.telephone"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"短信或电话通知",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"notificationType"}},[l("j-dict-select-tag",{attrs:{type:"radio",dictCode:"notification_type",placeholder:"请选择短信或电话通知"},model:{value:e.model.notificationType,callback:function(t){e.$set(e.model,"notificationType",t)},expression:"model.notificationType"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"设备生产时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentProductionTime"}},[l("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备生产时间"},model:{value:e.model.equipmentProductionTime,callback:function(t){e.$set(e.model,"equipmentProductionTime",t)},expression:"model.equipmentProductionTime"}})],1)],1),l("a-col",{attrs:{span:24}},[l("a-form-model-item",{attrs:{label:"设备到期时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentExpireTime"}},[l("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备到期时间"},model:{value:e.model.equipmentExpireTime,callback:function(t){e.$set(e.model,"equipmentExpireTime",t)},expression:"model.equipmentExpireTime"}})],1)],1)],1)],1)],1)],1)},a=[],i=l("0fea"),n=(l("ca00"),l("b775")),r=l("2700"),s=l("911a"),p=l.n(s),m={name:"EquipmentTableForm",components:{Mapppp:r["default"]},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{companys:[],equipmentTypes:[],equipmentModels:[],model:{mapLocation:null,detailedLocation:null},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{serialNumber:[{required:!0,message:"请输入序列号!"}]},url:{add:"/equipment/equipmentTable/add",edit:"/equipment/equipmentTable/edit",queryById:"/equipment/equipmentTable/queryById",selectDepart:"/baseMethod/equipment/selectDepart",selectEqTypeBySysType:"/equipment/equipmentTable/selectEqTypeBySysType",selectEqTypeByPid:"/equipment/equipmentTable/selectEqTypeByPid"},isAdd:!1}},computed:{formDisabled:function(){return this.disabled},affiliatedAgreement:function(){return"1486725270999056385"==this.model.systemBelong&&"1487791278396510209"!=this.model.equipmentType||("1488478696745455618"==this.model.equipmentType&&"1488478757697081345"==this.model.equipmentModel||("1488479234304233473"==this.model.equipmentType||("1488482234942869505"==this.model.equipmentType&&"1488482282552414210"==this.model.equipmentModel||("1488483157819772929"==this.model.equipmentType&&"1488483208205946882"==this.model.equipmentModel||"1488483338007072770"==this.model.equipmentModel))))},parts:function(){return"1488477744806219778"==this.model.equipmentType&&"1488477876482199553"==this.model.equipmentModel||("1488477744806219778"==this.model.equipmentType&&"1488477927522684930"==this.model.equipmentModel||"1488477744806219778"==this.model.equipmentType&&"1488477983587946498"==this.model.equipmentModel)},isRemotePowerOff:function(){return"1488478696745455618"==this.model.equipmentType&&"1488478969253580802"==this.model.equipmentModel||"1488478696745455618"==this.model.equipmentType&&"1488479026107371521"==this.model.equipmentModel}},watch:{"model.systemBelong":{handler:function(e,t){var l=this;n["b"].get(this.url.selectEqTypeBySysType,{params:{belongSystem:e}}).then((function(e){l.equipmentTypes=[],e.result&&e.result.forEach((function(e,t){0==e.pid&&l.equipmentTypes.push(e)}))}))}},"model.equipmentType":{handler:function(e,t){var l=this;n["b"].get(this.url.selectEqTypeByPid,{params:{pid:e}}).then((function(e){l.equipmentModels=e.result}))}}},created:function(){var e=this;this.modelDefault=JSON.parse(JSON.stringify(this.model)),n["b"].get(this.url.selectDepart).then((function(t){e.companys=t.result}))},mounted:function(){var e=this;this.pubid=p.a.subscribe("getName",(function(t,l){e.model.detailedLocation=l})),this.pubid=p.a.subscribe("getlngAndLat",(function(t,l){e.model.mapLocation=l}))},beforeDestroy:function(){p.a.unsubscribe(this.pubid)},methods:{add:function(){this.isAdd=!0,this.edit(this.modelDefault),this.$refs.realForm.getMapLocation2(),this.isAdd=!1},edit:function(e){this.model=Object.assign({},e),this.isAdd||this.$refs.realForm.getMapLocation(this.model.mapLocation),this.visible=!0},submitForm:function(){var e=this,t=this;this.$refs.form.validate((function(l){if(l){t.confirmLoading=!0;var o="",a="";e.model.id?(o+=e.url.edit,a="put"):(o+=e.url.add,a="post"),Object(i["h"])(o,e.model,a).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1}))}}))}}},d=m,c=(l("82cc"),l("2877")),u=Object(c["a"])(d,o,a,!1,null,"3923e502",null);t["default"]=u.exports},f016:function(e,t,l){}}]);