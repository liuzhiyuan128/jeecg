(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bdb19"],{"2ca3":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-form-container",{attrs:{disabled:e.disabled}},[a("a-form-model",{ref:"form",attrs:{slot:"detail",model:e.model,rules:e.validatorRules},slot:"detail"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"事件名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"affairName"}},[a("j-multi-select-tag",{attrs:{type:"list_multi",dictCode:"type",placeholder:"请选择事件名称"},model:{value:e.model.affairName,callback:function(t){e.$set(e.model,"affairName",t)},expression:"model.affairName"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"设备",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentId"}},[a("j-popup",{attrs:{field:"equipmentId","org-fields":"id","dest-fields":"equipmentId",code:"equipment_ufpp",multi:!0},on:{input:e.popupCallback},model:{value:e.model.equipmentId,callback:function(t){e.$set(e.model,"equipmentId",t)},expression:"model.equipmentId"}})],1)],1)],1)],1)],1)},o=[],r=a("0fea"),i=(a("ca00"),a("e2e0")),n={name:"AffairTypeForm",components:{},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{model:{},labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}},labelCol2:{xs:{span:24},sm:{span:3}},wrapperCol2:{xs:{span:24},sm:{span:20}},validatorRules:{},confirmLoading:!1}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{initFormData:function(e,t){var a=this;this.clearFormData(),t?Object(r["c"])(e,{id:t}).then((function(e){if(e.success){var t=e.result;t&&t.length>0&&a.edit(t[0])}})):this.edit(this.modelDefault)},edit:function(e){this.model=Object.assign({},e)},getFormData:function(){var e=this,t=[];return this.$refs.form.validate((function(a){if(a){var l=!0;Object.keys(e.model).forEach((function(t){e.model[t]&&(l=!1)})),l||t.push(e.model)}else e.$emit("validateError","事件类型表单校验未通过")})),t},validate:function(e){var t=this;return new Promise((function(a,l){t.$refs.form.validate((function(t){t?a():l({error:i["b"],index:e})}))})).then((function(e){return Promise.resolve()})).catch((function(e){return Promise.reject(e)}))},popupCallback:function(e,t){this.model=Object.assign(this.model,t)},clearFormData:function(){this.$refs.form.clearValidate()}}},s=n,d=a("2877"),m=Object(d["a"])(s,l,o,!1,null,null,null);t["default"]=m.exports}}]);