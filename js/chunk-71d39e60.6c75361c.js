(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71d39e60"],{"95a7":function(e,l,o){"use strict";var a=o("e447"),t=o.n(a);t.a},b6a8:function(e,l,o){"use strict";o.r(l);var a=function(){var e=this,l=e.$createElement,o=e._self._c||l;return o("a-spin",{attrs:{spinning:e.confirmLoading}},[o("j-form-container",{attrs:{disabled:e.formDisabled}},[o("a-form-model",{ref:"form",attrs:{slot:"detail",model:e.model,rules:e.validatorRules},slot:"detail"},[o("a-row",[o("a-col",{directives:[{name:"show",rawName:"v-show",value:"1"===e.model.isAutoAdd,expression:"model.isAutoAdd === '1'"}],attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"通道",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"passNumber"}},[o("a-input",{attrs:{placeholder:"请输入序列号",disabled:"1"===e.model.isAutoAdd},model:{value:e.model.passNumber,callback:function(l){e.$set(e.model,"passNumber",l)},expression:"model.passNumber"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"序列号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"serialNumber"}},[o("a-input",{attrs:{placeholder:"请输入序列号",disabled:"1"===e.model.isAutoAdd},model:{value:e.model.serialNumber,callback:function(l){e.$set(e.model,"serialNumber",l)},expression:"model.serialNumber"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"传感器名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentName"}},[o("a-input",{attrs:{placeholder:"请输入传感器名称"},model:{value:e.model.equipmentName,callback:function(l){e.$set(e.model,"equipmentName",l)},expression:"model.equipmentName"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"传感器类型",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentType",required:"true"}},[o("a-select",{attrs:{placeholder:"请选择传感器类型",disabled:"1"===e.model.isAutoAdd},model:{value:e.model.equipmentType,callback:function(l){e.$set(e.model,"equipmentType",l)},expression:"model.equipmentType"}},[o("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.sensors,(function(l,a){return o("a-select-option",{key:a,attrs:{value:l.id}},[o("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:l.sensorTypeName||l.id}},[e._v("\n                   "+e._s(l.sensorTypeName||l.id)+"\n                ")])])}))],2)],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"所属区域",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"region"}},[o("j-dict-select-tag",{attrs:{type:"list",dictCode:"ufpp_monitor_area,area_name,id",placeholder:"请选择所属区域"},model:{value:e.model.region,callback:function(l){e.$set(e.model,"region",l)},expression:"model.region"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"详细位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"detailedLocation"}},[o("a-input",{attrs:{placeholder:"请输入详细位置"},model:{value:e.model.detailedLocation,callback:function(l){e.$set(e.model,"detailedLocation",l)},expression:"model.detailedLocation"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"所属设备",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentBelong",required:"true"}},[o("j-popup",{attrs:{field:"equipmentBelong","org-fields":"equipment_name,id","dest-fields":"equipmentBelong,equipmentIdBelong",code:"sensor_belong_equipment",multi:!1,disabled:"1"===e.model.isAutoAdd},on:{input:e.popupCallback},model:{value:e.model.equipmentBelong,callback:function(l){e.$set(e.model,"equipmentBelong",l)},expression:"model.equipmentBelong"}})],1)],1)],1)],1)],1)],1)},t=[],s=o("0fea"),i=(o("ca00"),o("b775")),r={name:"SensorEquipmentTableForm",components:{},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{sensors:[],model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{serialNumber:[{required:!0,message:"请输入序列号!"}]},url:{add:"/equipment/sensorEquipmentTable/add",edit:"/equipment/sensorEquipmentTable/edit",queryById:"/equipment/sensorEquipmentTable/queryById",selectSensorByIsAutoAdd:"/equipment/sensorEquipmentTable/selectSensorByIsAutoAdd"}}},computed:{formDisabled:function(){return this.disabled}},watch:{"model.isAutoAdd":{immediate:!0,handler:function(e,l){var o=this;i["b"].get(this.url.selectSensorByIsAutoAdd,{params:{isAutoAdd:e}}).then((function(e){o.sensors=e.result}))}}},created:function(){var e=this;this.modelDefault=JSON.parse(JSON.stringify(this.model)),i["b"].get(this.url.selectSensorByIsAutoAdd,{params:{isAutoAdd:"0"}}).then((function(l){e.sensors=l.result}))},methods:{add:function(){this.edit(this.modelDefault)},edit:function(e){this.model=Object.assign({},e),this.visible=!0},submitForm:function(){var e=this,l=this;this.$refs.form.validate((function(o){if(o){l.confirmLoading=!0;var a="",t="";e.model.id?(a+=e.url.edit,t="put"):(a+=e.url.add,t="post"),Object(s["h"])(a,e.model,t).then((function(e){e.success?(l.$message.success(e.message),l.$emit("ok")):l.$message.warning(e.message)})).finally((function(){l.confirmLoading=!1}))}}))},popupCallback:function(e,l){this.model=Object.assign(this.model,l)}}},n=r,d=(o("95a7"),o("2877")),m=Object(d["a"])(n,a,t,!1,null,"074156c5",null);l["default"]=m.exports},e447:function(e,l,o){}}]);