(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19aad1e7","chunk-19aad1e7","chunk-c2bcb1d0"],{2700:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-form-item",{attrs:{label:"位置经度",prop:"lng"}},[o("a-input",{staticClass:"input_number",staticStyle:{display:"none"},attrs:{type:"number"},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.model.lng,callback:function(t){e.$set(e.model,"lng",t)},expression:"model.lng"}})],1),o("el-form-item",{attrs:{label:"位置维度",prop:"lat"}},[o("a-input",{staticClass:"input_number",staticStyle:{display:"none"},attrs:{type:"number"},nativeOn:{mousewheel:function(e){e.preventDefault()}},model:{value:e.model.lat,callback:function(t){e.$set(e.model,"lat",t)},expression:"model.lat"}})],1),o("baidu-map",{staticClass:"bm-view",attrs:{ak:"QFgFQorrB84maOZh0pPGC8kUiP0mGIhx",center:e.center,zoom:e.zoom,"scroll-wheel-zoom":!0},on:{ready:e.createMap}},[o("bm-local-search",{staticStyle:{display:"none"},attrs:{keyword:e.model.address,"auto-viewport":!0}}),o("bm-marker-clusterer",[o("bm-marker",{attrs:{position:{lng:e.model.lng,lat:e.model.lat}}})],1)],1),o("a-input",{staticStyle:{"margin-left":"10px",width:"200px",position:"absolute",top:"35%",opacity:"0.9"},attrs:{placeholder:"搜索地点","prefix-icon":"el-icon-search"},model:{value:e.model.address,callback:function(t){e.$set(e.model,"address",t)},expression:"model.address"}})],1)},l=[],r=o("df2b"),n=o("78a9"),i=o("eae0"),s=o("911a"),p=o.n(s),c={components:{BaiduMap:r["a"],BmMarkerClusterer:n["a"],BmLocalSearch:i["a"]},data:function(){return{center:{lng:0,lat:0},centerTwo:{lng:113.252709,lat:33.77253},zoom:10,model:{lng:"",lat:"",address:""},lngAndLatArr:[],BMap:null,map:null}},methods:{getMapLocation:function(e){this.lngAndLatArr=e.split(","),this.centerTwo.lng=parseFloat(this.lngAndLatArr[0]),this.centerTwo.lat=parseFloat(this.lngAndLatArr[1]),this.createMap({Bmap:this.BMap,map:this.map})},getMapLocation2:function(){this.centerTwo.lng=113.252709,this.centerTwo.lat=33.77253,this.model.lng="0",this.model.lat="0"},createMap:function(e){var t=e.BMap,o=e.map;this.BMap=t,this.map=o,this.zoom=this.zoom,this.map2=o;var a=this;o.addEventListener("click",(function(e){var l=new t.Geocoder,r=new t.Point(e.point.lng,e.point.lat);l.getLocation(r,(function(e){var t=e.addressComponents,o=t.province+t.city+t.district+t.street+t.streetNumber;p.a.publish("getName",o)})),a.model.lng=e.point.lng,a.model.lat=e.point.lat,o.centerAndZoom(new t.Point(e.point.lng,e.point.lat),o.getZoom())})),this.center.lng=this.centerTwo.lng,this.center.lat=this.centerTwo.lat,a.model.lng=this.center.lng,a.model.lat=this.center.lat;var l=0,r=0;o.addEventListener("zoomstart",(function(e){l=o.getCenter().lng,r=o.getCenter().lat})),o.addEventListener("zoomend",(function(e){o.centerAndZoom(new t.Point(l,r),o.getZoom())}))}},computed:{lngAndLat:function(){return this.model.lng+","+this.model.lat}},watch:{lngAndLat:{immediate:!0,deep:!0,handler:function(e,t){p.a.publish("getlngAndLat",e)}}}},d=c,m=(o("972d"),o("2877")),u=Object(m["a"])(d,a,l,!1,null,"0fcb685c",null);t["default"]=u.exports},"582a":function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a-spin",{attrs:{spinning:e.confirmLoading}},[o("j-form-container",{attrs:{disabled:e.formDisabled}},[o("a-form-model",{ref:"form",attrs:{slot:"detail",model:e.model,rules:e.validatorRules},slot:"detail"},[o("a-row",[o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"所属单位",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"affiliatedAgent",required:"true"}},[o("a-select",{attrs:{placeholder:"请选择所属单位"},model:{value:e.model.affiliatedAgent,callback:function(t){e.$set(e.model,"affiliatedAgent",t)},expression:"model.affiliatedAgent"}},[o("a-select-option",{attrs:{value:void 0}},[e._v("请选择")]),e._l(e.companys,(function(t,a){return o("a-select-option",{key:a,attrs:{value:t.id}},[o("span",{staticStyle:{display:"inline-block",width:"100%"},attrs:{title:t.departName||t.id}},[e._v("\n                   "+e._s(t.departName||t.id)+"\n                ")])])}))],2)],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"设备名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentName"}},[o("a-input",{attrs:{placeholder:"请输入设备名称"},model:{value:e.model.equipmentName,callback:function(t){e.$set(e.model,"equipmentName",t)},expression:"model.equipmentName"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"所属区域",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"region"}},[o("j-dict-select-tag",{attrs:{type:"list",dictCode:"ufpp_monitor_area,area_name,id",placeholder:"请选择所属区域"},model:{value:e.model.region,callback:function(t){e.$set(e.model,"region",t)},expression:"model.region"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"所属厂商",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"manufacturer"}},[o("j-dict-select-tag",{attrs:{type:"list",dictCode:"belong_manufacturer",placeholder:"请选择所属厂商"},model:{value:e.model.manufacturer,callback:function(t){e.$set(e.model,"manufacturer",t)},expression:"model.manufacturer"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"设备型号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentModel"}},[o("j-dict-select-tag",{attrs:{type:"list",dictCode:"video_type",placeholder:"请选择设备型号"},model:{value:e.model.equipmentModel,callback:function(t){e.$set(e.model,"equipmentModel",t)},expression:"model.equipmentModel"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"所属协议",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"protocol"}},[o("j-dict-select-tag",{attrs:{type:"list",dictCode:"affiliated_agreement",placeholder:"请选择所属协议"},model:{value:e.model.protocol,callback:function(t){e.$set(e.model,"protocol",t)},expression:"model.protocol"}})],1)],1),o("a-col",{directives:[{name:"show",rawName:"v-show",value:0==e.model.protocol,expression:"model.protocol == 0"}],attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"序列号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"serialNumber"}},[o("a-input",{attrs:{placeholder:"请输入序列号"},model:{value:e.model.serialNumber,callback:function(t){e.$set(e.model,"serialNumber",t)},expression:"model.serialNumber"}})],1)],1),o("a-col",{directives:[{name:"show",rawName:"v-show",value:0==e.model.protocol,expression:"model.protocol == 0"}],attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"验证码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"verificationCode"}},[o("a-input-password",{attrs:{placeholder:"请输入验证码"},model:{value:e.model.verificationCode,callback:function(t){e.$set(e.model,"verificationCode",t)},expression:"model.verificationCode"}})],1)],1),o("span",{directives:[{name:"show",rawName:"v-show",value:1==e.model.protocol,expression:"model.protocol == 1"}]},[o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"边缘服务",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"edgeService"}},[o("a-input",{attrs:{placeholder:"请输入边缘服务"},model:{value:e.model.edgeService,callback:function(t){e.$set(e.model,"edgeService",t)},expression:"model.edgeService"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"设备ip地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"deviceIpAddress"}},[o("a-input",{attrs:{placeholder:"请输入设备ip地址"},model:{value:e.model.deviceIpAddress,callback:function(t){e.$set(e.model,"deviceIpAddress",t)},expression:"model.deviceIpAddress"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"端口号",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"portNumber"}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入端口号"},model:{value:e.model.portNumber,callback:function(t){e.$set(e.model,"portNumber",t)},expression:"model.portNumber"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"用户名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"videoUsername"}},[o("a-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.model.videoUsername,callback:function(t){e.$set(e.model,"videoUsername",t)},expression:"model.videoUsername"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"密码",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"videoPassword"}},[o("a-input-password",{attrs:{placeholder:"请输入密码"},model:{value:e.model.videoPassword,callback:function(t){e.$set(e.model,"videoPassword",t)},expression:"model.videoPassword"}})],1)],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"楼层",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"floor"}},[o("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入楼层"},model:{value:e.model.floor,callback:function(t){e.$set(e.model,"floor",t)},expression:"model.floor"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"图上位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"mapLocation"}},[o("Mapppp",{ref:"realForm",model:{value:e.model.mapLocation,callback:function(t){e.$set(e.model,"mapLocation",t)},expression:"model.mapLocation"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"详细位置",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"detailedLocation"}},[o("a-input",{attrs:{placeholder:"请输入详细位置"},model:{value:e.model.detailedLocation,callback:function(t){e.$set(e.model,"detailedLocation",t)},expression:"model.detailedLocation"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"设备生产时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentProductionTime"}},[o("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备生产时间"},model:{value:e.model.equipmentProductionTime,callback:function(t){e.$set(e.model,"equipmentProductionTime",t)},expression:"model.equipmentProductionTime"}})],1)],1),o("a-col",{attrs:{span:24}},[o("a-form-model-item",{attrs:{label:"设备到期时间",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"equipmentExpireTime"}},[o("j-date",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备到期时间"},model:{value:e.model.equipmentExpireTime,callback:function(t){e.$set(e.model,"equipmentExpireTime",t)},expression:"model.equipmentExpireTime"}})],1)],1)],1)],1)],1)],1)},l=[],r=o("0fea"),n=(o("ca00"),o("b775")),i=o("2700"),s=o("911a"),p=o.n(s),c={name:"VideoEquipmentTableForm",components:{Mapppp:i["default"]},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{companys:[],model:{mapLocation:null,detailedLocation:null},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{serialNumber:[{required:!0,message:"请输入序列号!"}]},url:{add:"/equipment/videoEquipmentTable/add",edit:"/equipment/videoEquipmentTable/edit",queryById:"/equipment/videoEquipmentTable/queryById",selectDepart:"/baseMethod/equipment/selectDepart"},isAdd:!1}},computed:{formDisabled:function(){return this.disabled}},watch:{"model.protocol":{immediate:!0,handler:function(e,t){0!=e&&(this.model.serialNumber="--")}}},created:function(){var e=this;this.modelDefault=JSON.parse(JSON.stringify(this.model)),n["b"].get(this.url.selectDepart).then((function(t){e.companys=t.result}))},methods:{add:function(){this.isAdd=!0,this.edit(this.modelDefault),this.$refs.realForm.getMapLocation2(),this.isAdd=!1},edit:function(e){this.model=Object.assign({},e),this.isAdd||this.$refs.realForm.getMapLocation(this.model.mapLocation),this.visible=!0},submitForm:function(){var e=this,t=this;this.$refs.form.validate((function(o){if(o){t.confirmLoading=!0;var a="",l="";e.model.id?(a+=e.url.edit,l="put"):(a+=e.url.add,l="post"),Object(r["h"])(a,e.model,l).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1}))}}))},popupCallback:function(e,t){this.model=Object.assign(this.model,t)}},mounted:function(){var e=this;this.pubid=p.a.subscribe("getName",(function(t,o){e.model.detailedLocation=o})),this.pubid=p.a.subscribe("getlngAndLat",(function(t,o){e.model.mapLocation=o}))},beforeDestroy:function(){p.a.unsubscribe(this.pubid)}},d=c,m=(o("b6fa"),o("2877")),u=Object(m["a"])(d,a,l,!1,null,"c9511482",null);t["default"]=u.exports},"911a":function(e,t,o){(function(e){(function(o,a){"use strict";var l={};o.PubSub?l=o.PubSub:(o.PubSub=l,a(l)),void 0!==e&&e.exports&&(t=e.exports=l),t.PubSub=l,e.exports=t=l})("object"===typeof window&&window||this,(function(e){"use strict";var t={},o=-1,a="*";function l(e){var t;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function r(e){return function(){throw e}}function n(e,t,o){try{e(t,o)}catch(a){setTimeout(r(a),0)}}function i(e,t,o){e(t,o)}function s(e,o,a,l){var r,s=t[o],p=l?i:n;if(Object.prototype.hasOwnProperty.call(t,o))for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&p(s[r],e,a)}function p(e,t,o){return function(){var l=String(e),r=l.lastIndexOf(".");s(e,e,t,o);while(-1!==r)l=l.substr(0,r),r=l.lastIndexOf("."),s(e,l,t,o);s(e,a,t,o)}}function c(e){var o=String(e),a=Boolean(Object.prototype.hasOwnProperty.call(t,o)&&l(t[o]));return a}function d(e){var t=String(e),o=c(t)||c(a),l=t.lastIndexOf(".");while(!o&&-1!==l)t=t.substr(0,l),l=t.lastIndexOf("."),o=c(t);return o}function m(e,t,o,a){e="symbol"===typeof e?e.toString():e;var l=p(e,t,a),r=d(e);return!!r&&(!0===o?l():setTimeout(l,0),!0)}e.publish=function(t,o){return m(t,o,!1,e.immediateExceptions)},e.publishSync=function(t,o){return m(t,o,!0,e.immediateExceptions)},e.subscribe=function(e,a){if("function"!==typeof a)return!1;e="symbol"===typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(t,e)||(t[e]={});var l="uid_"+String(++o);return t[e][l]=a,l},e.subscribeAll=function(t){return e.subscribe(a,t)},e.subscribeOnce=function(t,o){var a=e.subscribe(t,(function(){e.unsubscribe(a),o.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var o;for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&0===o.indexOf(e)&&delete t[o]},e.countSubscriptions=function(e){var o,a,l=0;for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&0===o.indexOf(e)){for(a in t[o])l++;break}return l},e.getSubscriptions=function(e){var o,a=[];for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&0===o.indexOf(e)&&a.push(o);return a},e.unsubscribe=function(o){var a,l,r,n=function(e){var o;for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&0===o.indexOf(e))return!0;return!1},i="string"===typeof o&&(Object.prototype.hasOwnProperty.call(t,o)||n(o)),s=!i&&"string"===typeof o,p="function"===typeof o,c=!1;if(!i){for(a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(l=t[a],s&&l[o]){delete l[o],c=o;break}if(p)for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&l[r]===o&&(delete l[r],c=!0)}return c}e.clearSubscriptions(o)}}))}).call(this,o("7ebd")(e))},"972d":function(e,t,o){"use strict";var a=o("f016"),l=o.n(a);l.a},b6fa:function(e,t,o){"use strict";var a=o("c43f"),l=o.n(a);l.a},c43f:function(e,t,o){},f016:function(e,t,o){}}]);