(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8986a74"],{1025:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"historyfrom"},[i("div",{staticClass:"query-box"},[i("a-row",[i("a-col",[i("h3",{staticClass:"statistical-time"},[e._v("统计时间:")])]),i("a-col",[i("a-range-picker",{on:{change:e.changeTime}})],1),i("a-col",[i("div",{staticClass:"query-btn"},[i("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.Count()}}},[e._v("查询")]),i("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)])],1)],1),1==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.signal,pagination:{pageSize:10}}})],1):e._e(),2==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.electric,pagination:{pageSize:10}}})],1):e._e(),3==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.pollution,pagination:{pageSize:10}}})],1):e._e(),4==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.smokescope,pagination:{pageSize:10}}})],1):e._e()])},n=[],o=i("c1df"),r=i.n(o),a=i("b775"),c={name:"HistoryFrom",components:{},props:{},data:function(){return{signal:[],electric:[],pollution:[],smokescope:[],columnsSignal:[{title:"上报时间",dataIndex:"ReporTime",align:"center"},{title:"检测类型",dataIndex:"monitorType",align:"center"},{title:"设备状态",dataIndex:"state",align:"center"},{title:"数值",dataIndex:"smSignal",align:"center"}],createTime:"",SelectTime:{beginTime:"",byTime:""},equipId:"",equipId1:"",num:0}},computed:{},created:function(){},methods:{getId:function(e){this.equipId1=e},LoadList:function(e){var t=this;this.num=e,a["b"].get(window._CONFIG["domianURL"]+"/frontenddatamonitoring/smokeMintor/queryList",{params:{equipId:this.equipId1}}).then((function(e){for(var i=0;i<e.result.records.length;i++)t.signal.push({ReporTime:e.result.records[i].createTime,monitorType:"信号",state:"正常",smSignal:e.result.records[i].smSignal}),t.electric.push({ReporTime:e.result.records[i].createTime,monitorType:"电量",state:"正常",smSignal:e.result.records[i].smEletric}),t.pollution.push({ReporTime:e.result.records[i].createTime,monitorType:"迷宫污染程度",state:"正常",smSignal:e.result.records[i].smPollution}),t.smokescope.push({ReporTime:e.result.records[i].createTime,monitorType:"烟雾浓度",state:"正常",smSignal:e.result.records[i].smConcentration})}))},changeTime:function(e,t){this.SelectTime.beginTime=r()(t[0]).format("YYYY-MM-DD"),this.SelectTime.byTime=r()(t[1]).format("YYYY-MM-DD")},Count:function(){var e=this;a["b"].get(window._CONFIG["domianURL"]+"/frontenddatamonitoring/smokeMintor/queryList",{params:{equipId:this.equipId1,begin:this.SelectTime.beginTime,endTime:this.SelectTime.byTime}}).then((function(t){1==e.num&&(e.signal=[]),2==e.num&&(e.electric=[]),3==e.num&&(e.pollution=[]),4==e.num&&(e.smokescope=[]);for(var i=0;i<t.result.records.length;i++)1==e.num&&e.signal.push({ReporTime:t.result.records[i].createTime,monitorType:"信号",state:"正常",smSignal:t.result.records[i].smSignal}),2==e.num&&e.electric.push({ReporTime:t.result.records[i].createTime,monitorType:"电量",state:"正常",smSignal:t.result.records[i].smEletric}),3==e.num&&e.pollution.push({ReporTime:t.result.records[i].createTime,monitorType:"迷宫污染程度",state:"正常",smSignal:t.result.records[i].smPollution}),4==e.num&&e.smokescope.push({ReporTime:t.result.records[i].createTime,monitorType:"烟雾浓度",state:"正常",smSignal:t.result.records[i].smConcentration})}))},reset:function(){1==this.num&&(this.signal=[]),2==this.num&&(this.electric=[]),3==this.num&&(this.pollution=[]),4==this.num&&(this.smokescope=[]),this.LoadList(this.num)}}},l=c,m=(i("ee52"),i("2877")),u=Object(m["a"])(l,s,n,!1,null,"33eae8fb",null);t["default"]=u.exports},"4c92":function(e,t,i){},ee52:function(e,t,i){"use strict";var s=i("4c92"),n=i.n(s);n.a}}]);