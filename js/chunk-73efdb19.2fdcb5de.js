(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73efdb19","chunk-2feba232","chunk-2d0e5fbd"],{"33f6":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("j-modal",{attrs:{title:t.title,width:t.width,visible:t.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":t.disableSubmit}},cancelText:"关闭"},on:{ok:t.handleOk,cancel:t.handleCancel}},[a("alarm-configuration-form",{ref:"realForm",attrs:{disabled:t.disableSubmit},on:{ok:t.submitCallback}})],1)},n=[],r=a("978a"),l={name:"AlarmConfigurationModal",components:{AlarmConfigurationForm:r["default"]},data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1}},methods:{add:function(){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs.realForm.add()}))},edit:function(t){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs.realForm.edit(t)}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$refs.realForm.submitForm()},submitCallback:function(){this.$emit("ok"),this.visible=!1},handleCancel:function(){this.close()}}},o=l,s=a("2877"),d=Object(s["a"])(o,i,n,!1,null,null,null);e["default"]=d.exports},"4f502":function(t,e,a){},"56c3":function(t,e,a){},"744b":function(t,e,a){"use strict";var i=a("56c3"),n=a.n(i);n.a},"946d":function(t,e,a){"use strict";var i=a("4f502"),n=a.n(i);n.a},"978a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-spin",{attrs:{spinning:t.confirmLoading}},[a("j-form-container",{attrs:{disabled:t.formDisabled}},[a("a-form-model",{ref:"form",attrs:{slot:"detail",model:t.model,rules:t.validatorRules},slot:"detail"},[a("a-row",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"报警合并",labelCol:t.labelCol,wrapperCol:t.wrapperCol,prop:"alarmMergerState"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入报警合并"},model:{value:t.model.alarmMergerState,callback:function(e){t.$set(t.model,"alarmMergerState",e)},expression:"model.alarmMergerState"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"隐患合并",labelCol:t.labelCol,wrapperCol:t.wrapperCol,prop:"hiddenMergerState"}},[a("a-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入隐患合并"},model:{value:t.model.hiddenMergerState,callback:function(e){t.$set(t.model,"hiddenMergerState",e)},expression:"model.hiddenMergerState"}})],1)],1)],1)],1)],1)],1)},n=[],r=a("0fea"),l=(a("ca00"),{name:"AlarmConfigurationForm",components:{},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{},url:{add:"/alarm/alarmConfiguration/add",edit:"/alarm/alarmConfiguration/edit",queryById:"/alarm/alarmConfiguration/queryById"}}},computed:{formDisabled:function(){return this.disabled}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{add:function(){this.edit(this.modelDefault)},edit:function(t){this.model=Object.assign({},t),this.visible=!0},submitForm:function(){var t=this,e=this;this.$refs.form.validate((function(a){if(a){e.confirmLoading=!0;var i="",n="";t.model.id?(i+=t.url.edit,n="put"):(i+=t.url.add,n="post"),Object(r["h"])(i,t.model,n).then((function(t){t.success?(e.$message.success(t.message),e.$emit("ok")):e.$message.warning(t.message)})).finally((function(){e.confirmLoading=!1}))}}))}}}),o=l,s=a("2877"),d=Object(s["a"])(o,i,n,!1,null,null,null);e["default"]=d.exports},f028:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{attrs:{bordered:!1}},[a("div",[a("div",{staticClass:"merger-content"},[a("div",{staticClass:"merger-btn"},[a("p",[t._v("报警合并")]),a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关","default-checked":""},on:{change:t.onChangea},model:{value:t.astate,callback:function(e){t.astate=e},expression:"astate"}}),a("p",[t._v("开启后，将对同一报警源发送的报警，在未处理前进行报警次数合并 ")])],1),a("div",{staticClass:"merger-btn"},[a("p",[t._v("隐患合并")]),a("a-switch",{attrs:{"checked-children":"开","un-checked-children":"关","default-checked":""},on:{change:t.onChangeb},model:{value:t.hstate,callback:function(e){t.hstate=e},expression:"hstate"}}),a("p",[t._v("开启后工作台报警和隐患将合并为单元维度展示。如果用户正在使用工作台模块，将会重置用户正在处理的报警的隐患，需要用户重新选择处理")])],1)])]),a("alarm-configuration-modal",{ref:"modalForm",on:{ok:t.modalFormOk}})],1)},n=[],r=(a("6eb7"),a("ac0d")),l=a("b65a"),o=a("33f6"),s=a("b775"),d={name:"AlarmConfigurationList",mixins:[l["a"],r["b"]],components:{AlarmConfigurationModal:o["default"]},data:function(){return{astate:!1,hstate:!1,description:"ufpp_alarm_configuration管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(t,e,a){return parseInt(a)+1}},{title:"报警合并",align:"center",dataIndex:"alarmMergerState"},{title:"隐患合并",align:"center",dataIndex:"hiddenMergerState"},{title:"操作",dataIndex:"action",align:"center",fixed:"right",width:147,scopedSlots:{customRender:"action"}}],url:{list:"/alarm/alarmConfiguration/list",delete:"/alarm/alarmConfiguration/delete",query:"/alarm/alarmConfiguration/query"},dictOptions:{},superFieldList:[]}},created:function(){var t=this;this.getSuperFieldList(),s["b"].get(this.url.query).then((function(e){1==e.result.alarmMergerState?t.astate=!0:t.astate=!1,1==e.result.hiddenMergerState?t.hstate=!0:t.hstate=!1}))},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{initDictConfig:function(){},getSuperFieldList:function(){var t=[];t.push({type:"int",value:"alarmMergerState",text:"报警合并",dictCode:""}),t.push({type:"int",value:"hiddenMergerState",text:"隐患合并",dictCode:""}),this.superFieldList=t},onChangea:function(t){t?(this.astate=!0,Object(s["b"])({method:"put",url:"".concat(window._CONFIG["domianURL"],"/alarm/alarmConfiguration/edit"),data:{alarmMergerState:1}})):(this.astate=!1,Object(s["b"])({method:"put",url:"".concat(window._CONFIG["domianURL"],"/alarm/alarmConfiguration/edit"),data:{alarmMergerState:0}}))},onChangeb:function(t){t?(this.hstate=!0,Object(s["b"])({method:"put",url:"".concat(window._CONFIG["domianURL"],"/alarm/alarmConfiguration/edit"),data:{hiddenMergerState:1}})):(this.hstate=!1,Object(s["b"])({method:"put",url:"".concat(window._CONFIG["domianURL"],"/alarm/alarmConfiguration/edit"),data:{hiddenMergerState:0}}))}}},c=d,u=(a("946d"),a("744b"),a("2877")),m=Object(u["a"])(c,i,n,!1,null,"2b2c0f25",null);e["default"]=m.exports}}]);