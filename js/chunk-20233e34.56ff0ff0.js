(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20233e34"],{"6b09":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("a-spin",{attrs:{spinning:e.confirmLoading}},[t("j-form-container",{attrs:{disabled:e.formDisabled}},[t("a-form-model",{ref:"form",attrs:{slot:"detail",model:e.model,rules:e.validatorRules},slot:"detail"},[t("a-row",[0==e.seta?t("span",[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"联动级别",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"rankName"}},[t("j-dict-select-tag",{attrs:{type:"list",dictCode:"rank",placeholder:"请选择联动级别"},model:{value:e.model.rankName,callback:function(a){e.$set(e.model,"rankName",a)},expression:"model.rankName"}})],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"userName"}},[t("j-popup",{attrs:{field:"userName","org-fields":"realname,id,phone,unit_affiliated,depart_ids","dest-fields":"userName,userId,phone,unitId,deptId",code:"tj_user_report",multi:!0},on:{input:e.popupCallback},model:{value:e.model.userName,callback:function(a){e.$set(e.model,"userName",a)},expression:"model.userName"}})],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"phone"}},[t("a-input",{attrs:{placeholder:"请输入电话"},model:{value:e.model.phone,callback:function(a){e.$set(e.model,"phone",a)},expression:"model.phone"}})],1)],1)],1):t("span",{staticClass:"interval"},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"一级人员 ~ 二级人员时间间隔",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"apartOne"}},[t("j-dict-select-tag",{attrs:{type:"list",dictCode:"apart",placeholder:"请选择时间间隔"},model:{value:e.art.apartOne,callback:function(a){e.$set(e.art,"apartOne",a)},expression:"art.apartOne"}})],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"二级人员 ~ 三级人员时间间隔",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"apartTwo"}},[t("j-dict-select-tag",{attrs:{type:"list",dictCode:"apart",placeholder:"请选择时间间隔"},model:{value:e.art.apartTwo,callback:function(a){e.$set(e.art,"apartTwo",a)},expression:"art.apartTwo"}})],1)],1)],1)])],1)],1)],1)},l=[],n=t("a34a"),o=t.n(n),s=t("0fea"),i=(t("ca00"),t("b775"));function p(e,a,t,r,l,n,o){try{var s=e[n](o),i=s.value}catch(p){return void t(p)}s.done?a(i):Promise.resolve(i).then(r,l)}function d(e){return function(){var a=this,t=arguments;return new Promise((function(r,l){var n=e.apply(a,t);function o(e){p(n,r,l,o,s,"next",e)}function s(e){p(n,r,l,o,s,"throw",e)}o(void 0)}))}}var c={name:"RankLinkageForm",components:{},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{seta:0,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{},url:{add:"/alarm/rankLinkage/add",edit:"/alarm/rankLinkage/edit",queryById:"/alarm/rankLinkage/queryById",setArt:"/alarm/rankLinkage/setArt",setting:"/alarm/rankLinkage/setting"},art:{apartOne:null,apartTwo:null}}},computed:{formDisabled:function(){return this.disabled}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{editArt:function(){var e=this;Object(s["j"])(this.url.setArt,this.art).then((function(a){e.$emit("ok"),e.seta=1}))},add:function(){this.seta=0,this.edit(this.modelDefault)},edit:function(e){this.seta=0,this.model=Object.assign({},e),this.visible=!0},setArt:function(){var e=d(o.a.mark((function e(a){var t;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.seta=1,t=this,e.next=4,i["b"].get(this.url.setting).then((function(e){t.art.apartOne=e.result.apartOne,t.art.apartTwo=e.result.apartTwo}));case 4:this.visible=!0;case 5:case"end":return e.stop()}}),e,this)})));function a(a){return e.apply(this,arguments)}return a}(),submitForm:function(){var e=this,a=this;this.$refs.form.validate((function(t){if(t){a.confirmLoading=!0;var r="",l="";1==a.seta?(a.confirmLoading=!0,a.editArt()):(e.model.id?(r+=e.url.edit,l="put"):(r+=e.url.add,l="post"),Object(s["h"])(r,e.model,l).then((function(e){e.success?(a.$message.success(e.message),a.$emit("ok")):a.$message.warning(e.message)})).finally((function(){a.confirmLoading=!1})))}}))},popupCallback:function(e,a){this.model=Object.assign(this.model,a)}}},u=c,m=(t("7f66"),t("2877")),f=Object(m["a"])(u,r,l,!1,null,null,null);a["default"]=f.exports},"7f66":function(e,a,t){"use strict";var r=t("8146"),l=t.n(r);l.a},8146:function(e,a,t){}}]);