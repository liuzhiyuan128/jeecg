(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1af2d4fc","chunk-20233e34"],{"6b09":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-spin",{attrs:{spinning:e.confirmLoading}},[a("j-form-container",{attrs:{disabled:e.formDisabled}},[a("a-form-model",{ref:"form",attrs:{slot:"detail",model:e.model,rules:e.validatorRules},slot:"detail"},[a("a-row",[0==e.seta?a("span",[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"联动级别",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"rankName"}},[a("j-dict-select-tag",{attrs:{type:"list",dictCode:"rank",placeholder:"请选择联动级别"},model:{value:e.model.rankName,callback:function(t){e.$set(e.model,"rankName",t)},expression:"model.rankName"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"姓名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"userName"}},[a("j-popup",{attrs:{field:"userName","org-fields":"realname,id,phone,unit_affiliated,depart_ids","dest-fields":"userName,userId,phone,unitId,deptId",code:"tj_user_report",multi:!0},on:{input:e.popupCallback},model:{value:e.model.userName,callback:function(t){e.$set(e.model,"userName",t)},expression:"model.userName"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"电话",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"phone"}},[a("a-input",{attrs:{placeholder:"请输入电话"},model:{value:e.model.phone,callback:function(t){e.$set(e.model,"phone",t)},expression:"model.phone"}})],1)],1)],1):a("span",{staticClass:"interval"},[a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"一级人员 ~ 二级人员时间间隔",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"apartOne"}},[a("j-dict-select-tag",{attrs:{type:"list",dictCode:"apart",placeholder:"请选择时间间隔"},model:{value:e.art.apartOne,callback:function(t){e.$set(e.art,"apartOne",t)},expression:"art.apartOne"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-model-item",{attrs:{label:"二级人员 ~ 三级人员时间间隔",labelCol:e.labelCol,wrapperCol:e.wrapperCol,prop:"apartTwo"}},[a("j-dict-select-tag",{attrs:{type:"list",dictCode:"apart",placeholder:"请选择时间间隔"},model:{value:e.art.apartTwo,callback:function(t){e.$set(e.art,"apartTwo",t)},expression:"art.apartTwo"}})],1)],1)],1)])],1)],1)],1)},n=[],l=a("a34a"),i=a.n(l),s=a("0fea"),o=(a("ca00"),a("b775"));function c(e,t,a,r,n,l,i){try{var s=e[l](i),o=s.value}catch(c){return void a(c)}s.done?t(o):Promise.resolve(o).then(r,n)}function d(e){return function(){var t=this,a=arguments;return new Promise((function(r,n){var l=e.apply(t,a);function i(e){c(l,r,n,i,s,"next",e)}function s(e){c(l,r,n,i,s,"throw",e)}i(void 0)}))}}var u={name:"RankLinkageForm",components:{},props:{disabled:{type:Boolean,default:!1,required:!1}},data:function(){return{seta:0,model:{},labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},confirmLoading:!1,validatorRules:{},url:{add:"/alarm/rankLinkage/add",edit:"/alarm/rankLinkage/edit",queryById:"/alarm/rankLinkage/queryById",setArt:"/alarm/rankLinkage/setArt",setting:"/alarm/rankLinkage/setting"},art:{apartOne:null,apartTwo:null}}},computed:{formDisabled:function(){return this.disabled}},created:function(){this.modelDefault=JSON.parse(JSON.stringify(this.model))},methods:{editArt:function(){var e=this;Object(s["j"])(this.url.setArt,this.art).then((function(t){e.$emit("ok"),e.seta=1}))},add:function(){this.seta=0,this.edit(this.modelDefault)},edit:function(e){this.seta=0,this.model=Object.assign({},e),this.visible=!0},setArt:function(){var e=d(i.a.mark((function e(t){var a;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.seta=1,a=this,e.next=4,o["b"].get(this.url.setting).then((function(e){a.art.apartOne=e.result.apartOne,a.art.apartTwo=e.result.apartTwo}));case 4:this.visible=!0;case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),submitForm:function(){var e=this,t=this;this.$refs.form.validate((function(a){if(a){t.confirmLoading=!0;var r="",n="";1==t.seta?(t.confirmLoading=!0,t.editArt()):(e.model.id?(r+=e.url.edit,n="put"):(r+=e.url.add,n="post"),Object(s["h"])(r,e.model,n).then((function(e){e.success?(t.$message.success(e.message),t.$emit("ok")):t.$message.warning(e.message)})).finally((function(){t.confirmLoading=!1})))}}))},popupCallback:function(e,t){this.model=Object.assign(this.model,t)}}},p=u,m=(a("7f66"),a("2877")),f=Object(m["a"])(p,r,n,!1,null,null,null);t["default"]=f.exports},"7bbf":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("j-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[a("rank-linkage-form",{ref:"realForm",attrs:{disabled:e.disableSubmit},on:{ok:e.submitCallback}})],1)},n=[],l=a("6b09"),i={name:"RankLinkageModal",components:{RankLinkageForm:l["default"]},data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1}},methods:{add:function(){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs.realForm.add()}))},setArt:function(e){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs.realForm.setArt(e)}))},edit:function(e){var t=this;this.visible=!0,this.$nextTick((function(){t.$refs.realForm.edit(e)}))},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){this.$refs.realForm.submitForm()},submitCallback:function(){this.$emit("ok"),this.visible=!1},handleCancel:function(){this.close()}}},s=i,o=a("2877"),c=Object(o["a"])(s,r,n,!1,null,null,null);t["default"]=c.exports},"7f66":function(e,t,a){"use strict";var r=a("8146"),n=a.n(r);n.a},8146:function(e,t,a){}}]);