(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-15894112","chunk-d263e8c2"],{1187:function(e,t,i){"use strict";var n=i("a49d"),s=i.n(n);s.a},"12d8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("j-modal",{attrs:{title:e.title,width:e.width,visible:e.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":e.disableSubmit}},cancelText:"关闭"},on:{ok:e.handleOk,cancel:e.handleCancel}},[i("historyfrom",{ref:"historyfrom"})],1)},s=[],a=i("d502"),o={name:"HistoryModel",components:{historyfrom:a["default"]},data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1,equipId:""}},methods:{add:function(){this.visible=!0},close:function(){this.visible=!1},submitCallback:function(){this.visible=!1},handleOk:function(){this.close()},handleCancel:function(){this.close()},getEquipId:function(e,t){var i=this;this.equipId=e,this.$nextTick((function(){i.$refs.historyfrom.getId(i.equipId),i.$refs.historyfrom.LoadList(t)}))}}},r=o,l=i("2877"),c=Object(l["a"])(r,n,s,!1,null,null,null);t["default"]=c.exports},a49d:function(e,t,i){},d502:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"historyfrom"},[i("div",{staticClass:"query-box"},[i("a-row",[i("a-col",[i("h3",{staticClass:"statistical-time"},[e._v("统计时间:")])]),i("a-col",[i("a-range-picker",{on:{change:e.changeTime}})],1),i("a-col",[i("div",{staticClass:"query-btn"},[i("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.Count()}}},[e._v("查询")]),i("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.reset()}}},[e._v("重置")])],1)])],1)],1),1==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.signal,pagination:{pageSize:10}}})],1):e._e(),2==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.electric,pagination:{pageSize:10}}})],1):e._e(),3==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.pollution,pagination:{pageSize:10}}})],1):e._e(),4==e.num?i("div",{staticClass:"history-table"},[i("a-table",{attrs:{columns:e.columnsSignal,"data-source":e.smokescope,pagination:{pageSize:10}}})],1):e._e()])},s=[],a=i("c1df"),o=i.n(a),r=i("b775"),l={name:"HistoryFrom",components:{},props:{},data:function(){return{signal:[],electric:[],pollution:[],smokescope:[],columnsSignal:[{title:"上报时间",dataIndex:"ReporTime",align:"center"},{title:"检测类型",dataIndex:"monitorType",align:"center"},{title:"设备状态",dataIndex:"state",align:"center"},{title:"数值",dataIndex:"smSignal",align:"center"}],createTime:"",SelectTime:{beginTime:"",byTime:""},equipId:"",equipId1:"",num:0}},computed:{},created:function(){},methods:{getId:function(e){this.equipId1=e},LoadList:function(e){var t=this;this.num=e,r["b"].get(window._CONFIG["domianURL"]+"/frontenddatamonitoring/combustibleGas/queryList",{params:{cgEqumentId:this.equipId1}}).then((function(e){for(var i=0;i<e.result.records.length;i++)t.signal.push({ReporTime:e.result.records[i].createTime,monitorType:"信号",state:"正常",smSignal:e.result.records[i].cgSignal}),t.electric.push({ReporTime:e.result.records[i].createTime,monitorType:"电量",state:"正常",smSignal:e.result.records[i].smEletric})}))},changeTime:function(e,t){this.SelectTime.beginTime=o()(t[0]).format("YYYY-MM-DD"),this.SelectTime.byTime=o()(t[1]).format("YYYY-MM-DD")},Count:function(){var e=this;r["b"].get(window._CONFIG["domianURL"]+"/frontenddatamonitoring/combustibleGas/queryList",{params:{cgEqumentId:this.equipId1,begin:this.SelectTime.beginTime,endTime:this.SelectTime.byTime}}).then((function(t){1==e.num&&(e.signal=[]),2==e.num&&(e.electric=[]),3==e.num&&(e.pollution=[]),4==e.num&&(e.smokescope=[]);for(var i=0;i<t.result.records.length;i++)1==e.num&&e.signal.push({ReporTime:t.result.records[i].createTime,monitorType:"信号",state:"正常",smSignal:t.result.records[i].cgSignal}),2==e.num&&e.electric.push({ReporTime:t.result.records[i].createTime,monitorType:"电量",state:"正常",smSignal:t.result.records[i].smEletric}),3==e.num&&e.pollution.push({ReporTime:t.result.records[i].createTime,monitorType:"迷宫污染程度",state:"正常",smSignal:t.result.records[i].smPollution}),4==e.num&&e.smokescope.push({ReporTime:t.result.records[i].createTime,monitorType:"烟雾浓度",state:"正常",smSignal:t.result.records[i].smConcentration})}))},reset:function(){1==this.num&&(this.signal=[]),2==this.num&&(this.electric=[]),3==this.num&&(this.pollution=[]),4==this.num&&(this.smokescope=[]),this.LoadList(this.num)}}},c=l,u=(i("1187"),i("2877")),m=Object(u["a"])(c,n,s,!1,null,"35131552",null);t["default"]=m.exports}}]);