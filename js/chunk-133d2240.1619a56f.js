(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-133d2240","chunk-7934707f","chunk-2d0b95e7"],{"1e33":function(t,e,i){},"333d":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("j-modal",{attrs:{title:t.title,width:t.width,visible:t.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":t.disableSubmit}},cancelText:"关闭"},on:{cancel:t.handleCancel}},[i("div",{domProps:{innerHTML:t._s(this.dataAddress)}})])},a=[],l=(i("b775"),{name:"DrillDataTypeModal",components:{},props:["dataAddress"],data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1}},methods:{open:function(){this.visible=!0},close:function(){this.visible=!1},submitCallback:function(){this.visible=!1},handleCancel:function(){this.close()}}}),d=l,r=i("2877"),s=Object(r["a"])(d,n,a,!1,null,null,null);e["default"]=s.exports},3801:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("j-modal",{attrs:{title:t.title,width:t.width,visible:t.visible,switchFullscreen:"",okButtonProps:{class:{"jee-hidden":t.disableSubmit}},cancelText:"关闭"},on:{cancel:t.handleCancel}},[i("DrillDataTypeListCheck",{ref:"realForm",attrs:{disabled:t.disableSubmit}})],1)},a=[],l=i("7621"),d=(i("b775"),{name:"DrillDataTypeModal",components:{DrillDataTypeListCheck:l["default"]},data:function(){return{title:"",width:800,visible:!1,disableSubmit:!1}},methods:{show:function(t){var e=this;this.visible=!0,this.$nextTick((function(){e.$refs.realForm.defaultQuery(t.drillDataId)}))},close:function(){this.$emit("close"),this.visible=!1},handleCancel:function(){this.close()}}}),r=d,s=i("2877"),o=Object(s["a"])(r,n,a,!1,null,null,null);e["default"]=o.exports},7621:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-card",{attrs:{bordered:!1}},[i("div",[i("a-table",{ref:"table",staticClass:"j-table-force-nowrap",attrs:{size:"middle",scroll:{x:!0},bordered:"",rowKey:"id",columns:t.columns,dataSource:t.dataSource,pagination:t.ipagination,loading:t.loading,rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange}},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"htmlSlot",fn:function(e){return[i("div",{domProps:{innerHTML:t._s(e)}})]}},{key:"imgSlot",fn:function(e){return[e?i("img",{staticStyle:{"max-width":"80px","font-size":"12px","font-style":"italic"},attrs:{src:t.getImgView(e),height:"25px",alt:""}}):i("span",{staticStyle:{"font-size":"12px","font-style":"italic"}},[t._v("无图片")])]}},{key:"fileSlot",fn:function(e){return[e?i("a-button",{attrs:{ghost:!0,type:"primary",icon:"download",size:"small"},on:{click:function(i){return t.downloadFile(e)}}},[t._v("\n          下载\n        ")]):i("span",{staticStyle:{"font-size":"12px","font-style":"italic"}},[t._v("无文件")])]}},{key:"preview",fn:function(e,n){return i("span",{},[i("a",{on:{click:function(e){return t.handlePreview(n)}}},[t._v("预览")])])}}])})],1),i("TinymcePreview",{ref:"modalTinymce",attrs:{dataAddress:this.dataAddress},on:{ok:t.modalFormOk}})],1)},a=[],l=(i("6eb7"),i("ac0d")),d=i("b65a"),r=i("333d"),s=(i("89f2"),i("b775")),o=i("e762").Base64,c={name:"DrillDataTypeList",mixins:[d["a"],l["b"]],components:{TinymcePreview:r["default"]},data:function(){return{dataAddress:"",description:"演练资料管理页面",columns:[{title:"#",dataIndex:"",key:"rowIndex",width:60,align:"center",customRender:function(t,e,i){return parseInt(i)+1}},{title:"上传时间",align:"center",dataIndex:"createTime"},{title:"资料名称",align:"center",dataIndex:"dataName"},{title:"资料格式",align:"center",dataIndex:"dataType_dictText"},{title:"资料分类",align:"center",dataIndex:"dataSortId_dictText"},{title:"资料内容",align:"center",dataIndex:"content"},{title:"预览",align:"center",dataIndex:"",scopedSlots:{customRender:"preview"}}],url:{list:"/trainingdrill/drillDataType/queryByDrillDataId",delete:"/trainingdrill/drillDataType/delete",deleteBatch:"/trainingdrill/drillDataType/deleteBatch",exportXlsUrl:"/trainingdrill/drillDataType/exportXls",importExcelUrl:"trainingdrill/drillDataType/importExcel"},dictOptions:{},superFieldList:[]}},created:function(){this.getSuperFieldList()},computed:{importExcelUrl:function(){return"".concat(window._CONFIG["domianURL"],"/").concat(this.url.importExcelUrl)}},methods:{defaultQuery:function(t){this.queryParam.id=t,this.loadData(1)},initDictConfig:function(){},getSuperFieldList:function(){var t=[];t.push({type:"date",value:"createTime",text:"上传时间"}),t.push({type:"string",value:"dataName",text:"资料名称",dictCode:""}),t.push({type:"string",value:"dataType",text:"资料格式",dictCode:"data_format"}),t.push({type:"string",value:"dataSortId",text:"资料分类",dictCode:"ufpp_data_sort,data_sort,id"}),t.push({type:"Text",value:"content",text:"资料内容",dictCode:""}),this.superFieldList=t},handlePreview:function(t){"3"==t.dataType?(this.dataAddress=t.dataAddress,this.$refs.modalTinymce.open(),this.$refs.modalTinymce.title="富文本预览",this.$refs.modalTinymce.disableSubmit=!0):null!=t.dataAddress&&s["b"].get(window._CONFIG["domianURL"]+"/trainingdrill/drillDataType/filePreview",{params:{url:t.dataAddress}}).then((function(t){null!=t.result&&window.open("http://127.0.0.1:8012/onlinePreview?url="+encodeURIComponent(o.encode(t.result)))}))}}},u=c,p=(i("b24b"),i("2877")),h=Object(p["a"])(u,n,a,!1,null,"c635a592",null);e["default"]=h.exports},b24b:function(t,e,i){"use strict";var n=i("1e33"),a=i.n(n);a.a}}]);