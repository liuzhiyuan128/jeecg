(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-01044412"],{3474:function(e,t,a){},"46a3":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"area"},[a("div",{staticClass:"search"},[a("a-input-search",{attrs:{placeholder:"输入搜选项"},on:{search:e.onSearch},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),a("a-divider"),a("a-tree",{attrs:{treeData:e.treeData,selectedKeys:e.selectedKeys,expandedKeys:e.expandedKeys,autoExpandParent:e.autoExpandParent,"replace-fields":e.replaceFields},on:{expand:e.onExpand,select:e.onSelect,onCheck:e.onCheck},scopedSlots:e._u([{key:"title",fn:function(t){var s=t.areaName;return[a("span",{domProps:{innerHTML:e._s(s.replace(new RegExp(e.searchValue,"g"),"<span style=color:#f50>"+e.searchValue+"</span>"))}})]}}]),model:{value:e.checkedKeys,callback:function(t){e.checkedKeys=t},expression:"checkedKeys"}})],1),a("div",{staticClass:"operation-show"},[a("div",{staticClass:"operation"},[a("a-tabs",{attrs:{"default-active-key":"1",type:"flase"}},[a("a-tab-pane",{key:"1"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"plus"}}),e._v("\r\n            添加\r\n          ")],1),a("a-form",{ref:"form",attrs:{form:e.form,model:e.model,rules:e.validatorRules},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"下级地区名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['note', { rules: [{ required: true, message: 'Please input your note!' }] }]"}],attrs:{placeholder:"请输入"},model:{value:e.model.areaName,callback:function(t){e.$set(e.model,"areaName",t)},expression:"model.areaName"}})],1),a("a-form-item",{attrs:{label:"下级地区详细描述"}},[a("a-textarea",{attrs:{placeholder:"请输入","auto-size":{minRows:2,maxRows:6}},model:{value:e.model.areaCommnet,callback:function(t){e.$set(e.model,"areaCommnet",t)},expression:"model.areaCommnet"}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:8}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return e.addsubmitForm()}}},[e._v("\r\n                  提交\r\n                ")])],1)],1)],1),a("a-tab-pane",{key:"2"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"edit"}}),e._v("\r\n            修改\r\n          ")],1),a("a-form",{attrs:{form:e.form,model:e.editmodel}},[a("a-form-item",{attrs:{label:"下级地区名称"}},[a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["note",{rules:[{required:!0,message:"Please input your note!"}]}],expression:"['note', { rules: [{ required: true, message: 'Please input your note!' }] }]"}],attrs:{placeholder:"请输入"},model:{value:e.editmodel.areaName,callback:function(t){e.$set(e.editmodel,"areaName",t)},expression:"editmodel.areaName"}})],1),a("a-form-item",{attrs:{label:"下级地区详细描述"}},[a("a-textarea",{attrs:{placeholder:"请输入","auto-size":{minRows:2,maxRows:6}},model:{value:e.editmodel.areaCommnet,callback:function(t){e.$set(e.editmodel,"areaCommnet",t)},expression:"editmodel.areaCommnet"}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:8}}},[a("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return e.editsubmitForm()}}},[e._v("\r\n                  提交\r\n                ")])],1)],1)],1),a("a-tab-pane",{key:"3"},[a("span",{attrs:{slot:"tab"},slot:"tab"},[a("a-icon",{attrs:{type:"delete"}}),e._v("\r\n            删除\r\n          ")],1),a("p",{staticClass:"delete-content"},[a("svg",{staticClass:"icon",attrs:{t:"1645241036428",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1583",width:"128",height:"128"}},[a("path",{attrs:{d:"M927 679.5L635.7 511.7 927 343.9c29.1-14.6 43.7-58.3 22.1-87.4-14.6-29.1-58.3-43.7-87.4-22.1L570.5 402.2V67.8c7-36.7-22.1-65.8-58.3-65.8-36.1 0-65.8 29.1-65.8 65.8v335L155.1 235c-22.1-21.6-65.8-7-80.4 22.1-14.6 29.1-7.6 72.8 22.1 87.4l291.3 167.8L96.9 680.1c-29.1 14.6-43.7 58.3-21.6 87.4 14.6 22.1 36.7 29.1 58.3 29.1 7 0 21.6 0 29.1-7.6L454 621.2v335c-7.6 36.7 22.1 65.8 58.3 65.8 36.1 0 65.2-29.1 65.2-65.8v-335L868.7 789c7.6 7.6 22.1 7.6 29.1 7.6 22.1 0 43.7-14.6 58.3-29.1 7-29.8 0-73.5-29.1-88z",fill:"#E52323","p-id":"1584"}})]),a("span",[e._v("确定要删除该地区吗？")])]),a("a-form-item",{attrs:{"wrapper-col":{span:12,offset:9}}},[a("a-button",{staticClass:"delete-btn",attrs:{type:"primary","html-type":"submit"},on:{click:function(t){return e.deletesubmitFrom()}}},[e._v("\r\n              确定\r\n            ")])],1)],1)],1)],1)])])},r=[],n=a("b775"),i=a("0fea"),o={inject:["reload"],name:"inquire",adressId:"0",components:{},data:function(){return{replaceFields:{title:"areaName"},expandedKeys:[],adressId:[],backupsExpandedKeys:[],autoExpandParent:!1,checkedKeys:[],selectedKeys:[],searchValue:"",treeData:[],searchStr:"",model:{areaName:""},editmodel:{areaName:""},validatorRules:{areaName:[{required:!0,message:"请输入地区名称"}],areaCommnet:[{required:!0,message:"请输入描述"}]},url:{add:"area/ufppMonitorArea/add",getTreeData:"/area/ufppMonitorArea/getTreeData",edit:"/area/ufppMonitorArea/edit",queryById:"/area/ufppMonitorArea/queryById",delete:"/area/ufppMonitorArea/delete"}}},created:function(){this.loadTree()},methods:{reloadtask:function(){this.treeData=[],this.loadTree()},loadTree:function(){var e=this;Object(n["b"])({method:"get",url:this.url.getTreeData}).then((function(t){e.treeData.push(t.result),e.getTreePath(e.treeData)}))},addsubmitForm:function(){var e=this;if(this.adressId+""!==null&&this.adressId+"")if(null!==this.model.areaName&&this.model.areaName){var t=this,a="",s="";this.model.pid="",this.model.id||(a+=this.url.add,s="post",this.model.pid=this.adressId+""),Object(i["h"])(a,this.model,s).then((function(a){a.success?(e.reloadtask(),t.$message.success(a.message),t.$emit("ok")):t.$message.warning(a.message)}))}else this.$message.warning("下级地区名称不能为空");else this.$message.warning("请选择上级地区")},editsubmitForm:function(){var e=this;if(null!==this.editmodel.areaName&&this.editmodel.areaName){var t=this;n["b"].put(this.url.edit,this.editmodel).then((function(a){a.success?(e.reloadtask(),t.$message.success(a.message),t.$emit("ok")):t.$message.warning(a.message)}))}else this.$message.warning("下级地区名称不能为空")},deletesubmitFrom:function(){var e=this,t=this;n["b"].delete(this.url.delete,{params:{id:this.adressId+""}}).then((function(a){a.success&&(e.reloadtask(),t.$message.success(a.message),t.$emit("ok"))}))},getTreePath:function(e){for(var t=0;t<e.length;t++)if(e[t].children){e[t].key=e[t].id,e[t].$scopedSlots={title:"title"};var a=this.getTreePath(e[t].children);if(a)return a}else e[t].key=e[t].id},onSearch:function(){var e=this;if(this.searchValue=this.searchStr,""===this.searchValue)this.expandedKeys=[];else{this.expandedKeys=[],this.backupsExpandedKeys=[];var t=this.getkeyList(this.searchValue,this.treeData,[]);t.forEach((function(t){var a=e.getParentKey(t,e.treeData);a&&!e.backupsExpandedKeys.some((function(e){return e===a}))&&e.backupsExpandedKeys.push(a)}));for(var a=this.backupsExpandedKeys.length,s=0;s<a;s++)this.getAllParentKey(this.backupsExpandedKeys[s],this.treeData);this.expandedKeys=this.backupsExpandedKeys.slice()}},getkeyList:function(e,t,a){for(var s=0;s<t.length;s++){var r=t[s];r.areaName.indexOf(e)>-1&&a.push(r.key),r.children&&this.getkeyList(e,r.children,a)}return a},getParentKey:function(e,t){for(var a,s,r=0;r<t.length;r++){var n=t[r];n.children&&(n.children.some((function(t){return t.key===e}))?a=n.key:(s=this.getParentKey(e,n.children))&&(a=s))}return a},getAllParentKey:function(e,t){var a;e&&(a=this.getParentKey(e,t),a&&(this.backupsExpandedKeys.some((function(e){return e===a}))||this.backupsExpandedKeys.push(a),this.getAllParentKey(a,t)))},onExpand:function(e){this.expandedKeys=e,this.autoExpandParent=!1},onCheck:function(e){this.checkedKeys=e},onSelect:function(e,t){var a=this;this.adressId=e,this.selectedKeys=e,n["b"].get(this.url.queryById,{params:{id:this.adressId+""}}).then((function(e){a.editmodel.areaName=e.result.areaName,a.editmodel.areaCommnet=e.result.areaCommnet,a.editmodel.pid=e.result.pid,a.editmodel.id=e.result.id}))}}},d=o,l=(a("8c57"),a("2877")),c=Object(l["a"])(d,s,r,!1,null,"3d21064e",null);t["default"]=c.exports},"8c57":function(e,t,a){"use strict";var s=a("3474"),r=a.n(s);r.a}}]);